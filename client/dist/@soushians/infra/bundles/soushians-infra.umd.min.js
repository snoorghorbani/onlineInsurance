!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("tslib"),require("@angular/core")):"function"==typeof define&&define.amd?define("@soushians/infra",["exports","tslib","@angular/core"],n):n((t.soushians=t.soushians||{},t.soushians.infra={}),t.tslib,t.ng.core)}(this,function(exports,tslib,core){"use strict";var PERSIAN_MONTH_DAYS_COUNT=[31,31,31,31,31,31,30,30,30,30,30,30],PERSIAN_MONTH_NAMES=["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],DateClass=function(){function t(t,n,e){this.year=t,this.month=n,this.date=e}return t.prototype.fullDate=function(t){return void 0===t&&(t="/"),[this.year,this.month,this.date].join(t)},t.prototype.nativeDate=function(){return new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date))},t}(),UtilityService=function(){this.is=function(r){var o=function(t,n){return t.matches?t.matches(n):-1<this.argToArray(t.parentNode.querySelectorAll(n)).indexOf(t)};o.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},o.nodeList=function(t){return r.is.not.ie()?"[object NodeList]"===Object.prototype.toString.call(t):!(t.length===undefined||t.push!==undefined||0<t.length&&t[0].tagName===undefined)},o.element=function(t){return-1<Object.prototype.toString.call(t).search("Element")},o.HTMLCollection=function(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)},o.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.number=function(t){return"[object Number]"===Object.prototype.toString.call(t)},o["function"]=function(t){return"[object Function]"===Object.prototype.toString.call(t)},o.string=function(t){return"[object String]"===Object.prototype.toString.call(t)},o.undefined=function(t){return"[object Undefined]"===Object.prototype.toString.call(t)},o.event=function(t){return-1<Object.prototype.toString.call(t).toLowerCase().search("event")},o.defined=function(t){return t!==undefined&&null!==t&&""!==t},o.json=function(){},o.error=function(){},o.startWith=function(t,n){return 0===t.indexOf(n)},o.endWith=function(t){},o.value=function(t){return!!t},o.empty=function(t){if(r.is.object(0))for(var n in t)if(t.hasOwnProperty(n))return!1;return!r.is.array(t)||0===t.length},o.truthy=function(){},o.scalar=function(t){return o.defined(t)&&o.not.array(t)&&o.not.object(t)&&o.not["function"](t)},o.prototypeProp=function(t,n){return t[n]&&!t.hasOwnProperty(n)},o.equal=function(t,n){return JSON.stringify(t)==JSON.stringify(n)},o.equalText=function(t,n){return t.toLowerCase(t)===n.toLowerCase(n)},o.contain=function(t,n){var e=r.is.regex(n)?n:new RegExp(n,"g");return t.match(e)&&0<t.match(e).length},o.regex=function(t){return"RegExp"===t.constructor.name},o.same=function(t,n){return t.isEqualNode?t.isEqualNode(n):t===n},o.persianLeapYear=function(t){return 682*((t-(0<t?474:473))%2820+474+38)%2816<682},o.georgianLeapYear=function(t){return t%4==0&&!(t%100==0&&t%400!=0)};var t,n={};for(t in o)!function(r){o.hasOwnProperty(r)&&(n[r]=function(t,n,e){return!o[r](t,n,e)})}(t);o.not=n;var e,i={};for(t in o)o.hasOwnProperty(e=t)&&(i[e]=function(t){});o.all=i;var a,u={};for(var c in o)o.hasOwnProperty(a=c)&&(u[a]=function(t){});return o.any=u,o}(this),this.math={mod:function(t,n){return t-n*Math.floor(t/n)}},this.date=function(d){var m=1721425.5,a={persian:{PERSIAN_MONTH_DAYS_COUNT:[],now:function(){return null},create:function(t,n,e){return null},getDaysOfoMonth:function(t){return null},getDayOfWeek:function(t,n,e){return null},foretimeMonthOfYear:function(){return[]},to:{georgian:function(){return null},julian:function(){return null}}},julian:{to:{georgian:function(){return null},persian:function(){return null}}},georgian:{now:function(){return null},getRelativeDay:function(t){return null},parse:function(t){return null},to:{persian:function(){return null},julian:function(){return null}}},as:{Date:function(){return null}}};a.as.Date=function(t){var n=tslib.__read(t,3),e=n[0],r=n[1],o=n[2];return new Date(parseInt(e),parseInt(r)-1,parseInt(o))};var y=function(t){return 1==(t=t.toString()).length?"0"+t:t};return a.persian.PERSIAN_MONTH_DAYS_COUNT=[31,31,31,31,31,31,30,30,30,30,30,30,30],a.persian.now=function(){var t=new Date;return a.georgian.to.persian(t.getFullYear(),t.getMonth(),t.getDate())},a.persian.create=function(t,n,e){return new DateClass(t,n,e)},a.persian.getDaysOfoMonth=function(t){for(var n=PERSIAN_MONTH_DAYS_COUNT[t],e=[],r=1;r<n+1;r++){var o=r<10?"0"+r:r.toString();e.push(o)}return e},a.persian.getDayOfWeek=function(t,n,e){a.persian.create("1396","1","1");var r=a.persian.to.georgian("1396","1","1").nativeDate(),o=+n-1,i=+e;return(PERSIAN_MONTH_DAYS_COUNT.reduce(function(t,n,e){return e==o?t+i:o<e?t:t+n})+r.getDay()-1)%7},a.persian.foretimeMonthOfYear=function(){return PERSIAN_MONTH_NAMES.filter(function(t,n){return n<=+a.persian.now().month-1})},a.persian.to.julian=function(t,n,e){var r,o;return t=parseInt(t.toString()),n=parseInt(n.toString()),e=parseInt(e.toString()),r=t-(0<=t?474:473),o=474+d.math.mod(r,2820),e+(n<=7?31*(n-1):30*(n-1)+6)+Math.floor((682*o-110)/2816)+365*(o-1)+1029983*Math.floor(r/2820)+1948319.5},a.persian.to.georgian=function(t,n,e){var r=a.julian.to.georgian(a.persian.to.julian(parseInt(t.toString()),parseInt(n.toString()),parseInt(e.toString())));return new DateClass(r[0],parseInt(r[1]),r[2])},a.georgian.parse=function(t){return new DateClass(t.getFullYear(),t.getMonth()+1,t.getDate())},a.georgian.to.julian=function(t,n,e){return t=parseInt(t.toString()),n=parseInt(n.toString())+1,e=parseInt(e.toString()),m-1+365*(t-1)+Math.floor((t-1)/4)+-Math.floor((t-1)/100)+Math.floor((t-1)/400)+Math.floor((367*n-362)/12+(n<=2?0:d.is.georgianLeapYear(t)?-1:-2)+e)},a.georgian.to.persian=function(t,n,e){var r=a.julian.to.persian(a.georgian.to.julian(parseInt(t.toString()),parseInt(n.toString()),parseInt(e.toString())));return new DateClass(r[0],r[1],r[2])},a.georgian.now=function(){var t=new Date;return new DateClass(t.getFullYear(),t.getMonth()+1,t.getDate())},a.georgian.getRelativeDay=function(t){var n=new Date(Date.now()+-1*t*24*60*60*1e3);return new DateClass(n.getFullYear(),n.getMonth()+1,n.getDate())},a.julian.to.georgian=function(t){var n,e,r,o,i,a,u,c,s,f,p,l,g,h;return t=parseFloat(t.toString()),e=(n=Math.floor(t-.5)+.5)-m,r=Math.floor(e/146097),o=d.math.mod(e,146097),i=Math.floor(o/36524),a=d.math.mod(o,36524),u=Math.floor(a/1461),c=d.math.mod(a,1461),f=400*r+100*i+4*u+(s=Math.floor(c/365)),4!=i&&4!=s&&f++,g=n-d.date.georgian.to.julian(f,0,1),h=n<d.date.georgian.to.julian(f,3,1)?0:d.is.georgianLeapYear(f)?1:2,p=Math.floor((12*(g+h)+373)/367),l=n-d.date.georgian.to.julian(f,p-1,1)+1,new Array(y(f),y(p),y(l))},a.julian.to.persian=function(t){var n,e,r,o,i,a,u,c,s,f;return t=parseFloat(t.toString()),o=(t=Math.floor(t)+.5)-d.date.persian.to.julian(475,1,1),i=Math.floor(o/1029983),1029982==(a=d.math.mod(o,1029983))?u=2820:(c=Math.floor(a/366),s=d.math.mod(a,366),u=Math.floor((2134*c+2816*s+2815)/1028522)+c+1),(n=u+2820*i+474)<=0&&n--,e=(f=t-d.date.persian.to.julian(n,1,1)+1)<=186?Math.ceil(f/31):Math.ceil((f-6)/30),r=t-d.date.persian.to.julian(n,e,1)+1,new Array(y(n),y(e),y(r))},a}(this)};UtilityService.decorators=[{type:core.Injectable}];var stringTemplate=function(template,model){return eval("`"+template+"`")};function MatchValidator(n){return function(t){if(t.root.value)return t.root.value[n]==t.value?null:{key:"don't matched"}}}var DataUnitPipe=function(){function t(){}return t.prototype.transform=function(t,n){if(0==t)return"0 بایت";if(null==t)return"نامحدود";var e,r=1048576,o=1024*r,i="بایت";return o<=t?(i="گیگا بایت",e=(t/o).toFixed(2)):r<=t?(i="مگا بایت",e=(t/r).toFixed(2)):1024<=t?(i="کیلو بایت",e=(t/1024).toFixed(2)):(i="بایت",e=t.toFixed(2)),e+" "+i},t}();DataUnitPipe.decorators=[{type:core.Pipe,args:[{name:"dataUnit"}]}];var TimeUnitPipe=function(){function t(){}return t.prototype.getDays=function(t){var n=Math.floor(t/86400);return{count:n,value:n+" روز",remaining:t-86400*n}},t.prototype.getHours=function(t){var n=Math.floor(t/3600);return{count:n,value:n+" ساعت",remaining:t-3600*n}},t.prototype.getMinuts=function(t){var n=Math.floor(t/60);return{count:n,value:n+" دقیقه",remaining:t-60*n}},t.prototype.getSeconds=function(t){var n=Math.floor(t);return{count:n,value:n+" ثانیه",remaining:t-n}},t.prototype.transform=function(t,n){if(0===t)return"0 دقیقه";if(!t)return"";var e=this.getDays(t),r=this.getHours(e.remaining);return[e,r,this.getMinuts(r.remaining)].filter(function(t){return t.count}).map(function(t){return t.value}).join(" و ")},t}();TimeUnitPipe.decorators=[{type:core.Pipe,args:[{name:"timeUnit"}]}];var PersianDatePipe=function(){function t(){}return t.prototype.transform=function(t,n){if(!t)return"";var e=new Date(t),r=_.date.georgian.to.persian(e.getFullYear(),e.getMonth()+1,e.getDate());return[parseInt(r[0]).toLocaleString("fa-IR",{useGrouping:!1}),parseInt(r[1]).toLocaleString("fa-IR",{useGrouping:!1}),parseInt(r[2]).toLocaleString("fa-IR",{useGrouping:!1})].join("/")},t}();PersianDatePipe.decorators=[{type:core.Pipe,args:[{name:"persianDate"}]}];var ɵ0=function(r){var o=function(t,n){return t.matches?t.matches(n):-1<this.argToArray(t.parentNode.querySelectorAll(n)).indexOf(t)};o.object=function(t){return"[object Object]"===Object.prototype.toString.call(t)},o.nodeList=function(t){return r.is.not.ie()?"[object NodeList]"===Object.prototype.toString.call(t):!(t.length===undefined||t.push!==undefined||0<t.length&&t[0].tagName===undefined)},o.element=function(t){return-1<Object.prototype.toString.call(t).search("Element")},o.HTMLCollection=function(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)},o.array=function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.number=function(t){return"[object Number]"===Object.prototype.toString.call(t)},o["function"]=function(t){return"[object Function]"===Object.prototype.toString.call(t)},o.string=function(t){return"[object String]"===Object.prototype.toString.call(t)},o.undefined=function(t){return"[object Undefined]"===Object.prototype.toString.call(t)},o.event=function(t){return-1<Object.prototype.toString.call(t).toLowerCase().search("event")},o.defined=function(t){return t!==undefined&&null!==t&&""!==t},o.json=function(){},o.error=function(){},o.startWith=function(t,n){return 0===t.indexOf(n)},o.endWith=function(t){},o.value=function(t){return!!t},o.empty=function(t){if(r.is.object(0))for(var n in t)if(t.hasOwnProperty(n))return!1;return!r.is.array(t)||0===t.length},o.truthy=function(){},o.scalar=function(t){return o.defined(t)&&o.not.array(t)&&o.not.object(t)&&o.not["function"](t)},o.prototypeProp=function(t,n){return t[n]&&!t.hasOwnProperty(n)},o.equal=function(t,n){return JSON.stringify(t)==JSON.stringify(n)},o.equalText=function(t,n){return t.toLowerCase(t)===n.toLowerCase(n)},o.closet=function(t,n){return r.is.equal(r.partial(t,r.report.skeleton(n)),n)},o.contain=function(t,n){var e=r.is.regex(n)?n:new RegExp(n,"g");return t.match(e)&&0<t.match(e).length},o.regex=function(t){return"RegExp"===t.constructor.name},o.same=function(t,n){return t.isEqualNode?t.isEqualNode(n):t===n},o.persianLeapYear=function(t){return 682*((t-(0<t?474:473))%2820+474+38)%2816<682},o.georgianLeapYear=function(t){return t%4==0&&!(t%100==0&&t%400!=0)};var t,n={};for(t in o)!function(r){o.hasOwnProperty(r)&&(n[r]=function(t,n,e){return!o[r](t,n,e)})}(t);o.not=n;var e,i={};for(t in o)o.hasOwnProperty(e=t)&&(i[e]=function(t){});o.all=i;var a,u={};for(var c in o)o.hasOwnProperty(a=c)&&(u[a]=function(t){});return o.any=u,o},ɵ1=function(){var t={mod:function(t,n){return t-n*Math.floor(t/n)}};return t},ɵ2=function(){var d=1721425.5,i={persian:{}};i.persian.to={},i.georgian={},i.georgian.to={},i.julian={},i.julian.to={};var m=function(t){return 1==(t=t.toString()).length?"0"+t:t};return i.persian.to.julian=function(t,n,e){var r,o;return t=parseInt(t),n=parseInt(n),e=parseInt(e),r=t-(0<=t?474:473),o=474+_.math.mod(r,2820),e+(n<=7?31*(n-1):30*(n-1)+6)+Math.floor((682*o-110)/2816)+365*(o-1)+1029983*Math.floor(r/2820)+1948319.5},i.persian.to.georgian=function(t,n,e,r){var o=i.julian.to.georgian(i.persian.to.julian(parseInt(t),parseInt(n)+1,parseInt(e)));return r?o.join(r):o},i.georgian.to.julian=function(t,n,e){return t=parseInt(t),n=parseInt(n),e=parseInt(e),d-1+365*(t-1)+Math.floor((t-1)/4)+-Math.floor((t-1)/100)+Math.floor((t-1)/400)+Math.floor((367*n-362)/12+(n<=2?0:_.is.georgianLeapYear(t)?-1:-2)+e)},i.georgian.to.persian=function(t,n,e,r){var o=i.julian.to.persian(i.georgian.to.julian(parseInt(t),parseInt(n),parseInt(e)));return r?o.join(r):o},i.julian.to.georgian=function(t){var n,e,r,o,i,a,u,c,s,f,p,l,g,h;return t=parseFloat(t),e=(n=Math.floor(t-.5)+.5)-d,r=Math.floor(e/146097),o=_.math.mod(e,146097),i=Math.floor(o/36524),a=_.math.mod(o,36524),u=Math.floor(a/1461),c=_.math.mod(a,1461),f=400*r+100*i+4*u+(s=Math.floor(c/365)),4!=i&&4!=s&&f++,g=n-_.date.georgian.to.julian(f,1,1),h=n<_.date.georgian.to.julian(f,3,1)?0:_.is.georgianLeapYear(f)?1:2,p=Math.floor((12*(g+h)+373)/367),l=n-_.date.georgian.to.julian(f,p,1)+1,new Array(m(f),m(p),m(l))},i.julian.to.persian=function(t){var n,e,r,o,i,a,u,c,s,f;return t=parseFloat(t),o=(t=Math.floor(t)+.5)-_.date.persian.to.julian(475,1,1),i=Math.floor(o/1029983),1029982==(a=_.math.mod(o,1029983))?u=2820:(c=Math.floor(a/366),s=_.math.mod(a,366),u=Math.floor((2134*c+2816*s+2815)/1028522)+c+1),(n=u+2820*i+474)<=0&&n--,e=(f=t-_.date.persian.to.julian(n,1,1)+1)<=186?Math.ceil(f/31):Math.ceil((f-6)/30),r=t-_.date.persian.to.julian(n,e,1)+1,new Array(m(n),m(e),m(r))},i},_={is:ɵ0(this),math:ɵ1(),date:ɵ2()},CurrencyUnitPipe=function(){function t(){}return t.prototype.transform=function(t,n){if(!t&&0!=t)return"";if(0==t)return"رایگان";return[t.toLocaleString("fa-IR"),"ریال"].join(" ")},t}();CurrencyUnitPipe.decorators=[{type:core.Pipe,args:[{name:"currencyUnit"}]}];var PersianNumberPipe=function(){function t(){}return t.prototype.transform=function(t,n){if(!t)return"";for(var e="",r=0;r<t.length;r++)e+=(+t[r]).toLocaleString("fa-IR",{useGrouping:!1});return e},t}();PersianNumberPipe.decorators=[{type:core.Pipe,args:[{name:"persianNumber"}]}];var TimeCounterPipe=function(){function t(){}return t.prototype.getHours=function(t){var n=Math.floor(t/3600);return{count:n,value:n+" ساعت",remaining:t-3600*n}},t.prototype.getMinuts=function(t){var n=Math.floor(t/60);return{count:n,value:n+" دقیقه",remaining:t-60*n}},t.prototype.getSeconds=function(t){var n=Math.floor(t);return{count:n,value:n+" ثانیه",remaining:t-n}},t.prototype.transform=function(t,n){if(!t)return"";var e=this.getHours(t),r=this.getMinuts(e.remaining);return[this.getSeconds(r.remaining),r,e].map(function(t){return t.count}).join(" : ")},t}();TimeCounterPipe.decorators=[{type:core.Pipe,args:[{name:"timeCounter"}]}];var DataUnitService=function(){function t(){}return t.prototype.transform=function(t,n){if(0==t)return"0 B";if(null==t)return"نامحدود";var e,r=1048576,o=1024*r,i="B";return o<=t?(i="GB",e=(t/o).toPrecision(3)):r<=t?(i="MG",e=(t/r).toPrecision(3)):1024<=t?(i="KB",e=(t/1024).toPrecision(3)):(i="B",e=t.toPrecision(3)),e+" "+i},t}();DataUnitService.decorators=[{type:core.Injectable}];var InfraModule=function(){};InfraModule.decorators=[{type:core.NgModule,args:[{imports:[],declarations:[DataUnitPipe,TimeUnitPipe,CurrencyUnitPipe,PersianDatePipe,PersianNumberPipe,TimeCounterPipe],providers:[UtilityService,DataUnitService],exports:[DataUnitPipe,TimeUnitPipe,CurrencyUnitPipe,PersianDatePipe,PersianNumberPipe,TimeCounterPipe]}]}],exports.PERSIAN_MONTH_DAYS_COUNT=PERSIAN_MONTH_DAYS_COUNT,exports.PERSIAN_MONTH_NAMES=PERSIAN_MONTH_NAMES,exports.DateClass=DateClass,exports.UtilityService=UtilityService,exports.stringTemplate=stringTemplate,exports.MatchValidator=MatchValidator,exports.DataUnitPipe=DataUnitPipe,exports.TimeUnitPipe=TimeUnitPipe,exports.PersianDatePipe=PersianDatePipe,exports.CurrencyUnitPipe=CurrencyUnitPipe,exports.PersianNumberPipe=PersianNumberPipe,exports.TimeCounterPipe=TimeCounterPipe,exports.DataUnitService=DataUnitService,exports.InfraModule=InfraModule,exports.ɵc=CurrencyUnitPipe,exports.ɵa=DataUnitPipe,exports.ɵg=DataUnitService,exports.ɵd=PersianDatePipe,exports.ɵe=PersianNumberPipe,exports.ɵf=TimeCounterPipe,exports.ɵb=TimeUnitPipe,Object.defineProperty(exports,"__esModule",{value:!0})});
//# sourceMappingURL=soushians-infra.umd.min.js.map
